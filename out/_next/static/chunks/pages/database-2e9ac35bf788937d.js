(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{50385:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/database",function(){return n(16191)}])},19792:function(e,t,n){"use strict";var o=n(85893),r=n(30441),a=n(58514),c=n(40192),l=n(49227),s=n(67294);t.Z=e=>{let{isShowLeft:t,handleIsShowLeftChange:n,title:i}=e,[u,d]=(0,s.useState)(!1),p=()=>{n(),d(!1)},m=()=>{d(!0)},f=()=>{d(!1)};return(0,o.jsx)(r.Z,{placement:"top",title:"".concat(t?"Close":"Open"," ").concat(i),open:u,children:t?(0,o.jsx)(a.ZP,{shape:"circle",icon:(0,o.jsx)(c.Z,{}),onClick:p,onMouseEnter:m,onMouseLeave:f}):(0,o.jsx)(a.ZP,{shape:"circle",icon:(0,o.jsx)(l.Z,{}),onClick:p,onMouseEnter:m,onMouseLeave:f})})}},19328:function(e,t,n){"use strict";var o=n(85893),r=n(45114);let a={"Bin Integer":"volcano","Bin Log":"magenta","Gene Integer":"blue","Gene Log":"purple"},c={"Bin Integer":"Bin Absolute","Bin Log":"Bin Log","Gene Integer":"Gene Absolute","Gene Log":"Gene Log"},l={backgroundColor:"#f0f0f0",color:"#555",border:"1px solid #d9d9d9"};t.Z=e=>{let{value:t}=e;if(!t)return(0,o.jsx)(r.Z,{value:"--",style:l});let n=a[t]||"default",s=c[t]||"--";return(0,o.jsx)(r.Z,{value:s,color:n})}},48498:function(e,t,n){"use strict";var o=n(85893),r=n(45114);let a={bulkDNA:"blue",bulkDNAles:"purple",scDNA:"green",scRNA:"orange",ST:"red"};t.Z=e=>{let{value:t}=e;if(!t)return(0,o.jsx)(r.Z,{value:"--",color:"default"});let n=a[t]||"default";return(0,o.jsx)(r.Z,{value:t,color:n})}},25168:function(e,t,n){"use strict";var o=n(85893),r=n(45114);let a={cell:"red",sample:"gold",spot:"lime"},c={backgroundColor:"#f0f0f0",color:"#555",border:"1px solid #d9d9d9"};t.Z=e=>{let{value:t}=e;if(!t)return(0,o.jsx)(r.Z,{value:"--",style:c});let n=a[t.toLowerCase()]||"default";return(0,o.jsx)(r.Z,{value:t,color:n})}},91597:function(e,t,n){"use strict";var o=n(85893),r=n(45114);let a={hg19:"blue",hg38:"green"};t.Z=e=>{let{value:t}=e;if(!t)return(0,o.jsx)(r.Z,{value:"--",color:"default"});let n=a[t]||"default";return(0,o.jsx)(r.Z,{value:t,color:n})}},93619:function(e,t,n){"use strict";var o=n(85893),r=n(45114);let a={"10x Official":"geekblue",cBioportal:"cyan",COSMIC:"magenta","GDC Portal":"volcano",HSCGD:"green",scTML:"orange"};t.Z=e=>{let{value:t}=e,n=a[t]||"default";return(0,o.jsx)(r.Z,{value:t,color:n})}},61080:function(e,t,n){"use strict";var o=n(85893),r=n(89073),a=n(13368);t.Z=e=>{let{width:t,height:n,containerSx:c,children:l}=e;return(0,o.jsx)(r.Z,{sx:{width:t,height:n,justifyContent:"center",alignItems:"center",...c},children:l||(0,o.jsx)(a.Z,{component:"span",sx:{fontSize:"24px",fontWeight:"500"},children:"A Error Occur!"})})}},79967:function(e,t,n){"use strict";var o=n(85893),r=n(89073),a=n(70020);t.Z=e=>{let{width:t,height:n,containerSx:c,children:l}=e;return(0,o.jsx)(r.Z,{sx:{width:t,height:n,justifyContent:"center",alignItems:"center",...c},children:l||(0,o.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,o.jsx)(a.Z,{tip:"Loading",size:"large",children:(0,o.jsx)("div",{style:{paddingTop:20}})})})})}},12252:function(e,t,n){"use strict";var o=n(85893),r=n(21550);t.Z=e=>{let{value:t,color:n="default"}=e;if(!t||"string"!=typeof t)return(0,o.jsx)(r.Z,{color:"default",children:"--"});let a=t.split(/[,/]/).map(e=>e.trim()).filter(Boolean);return(0,o.jsx)(o.Fragment,{children:a.map((e,t)=>(0,o.jsx)(r.Z,{color:n,children:e},"".concat(e,"-").concat(t)))})}},4:function(e,t,n){"use strict";var o=n(85893),r=n(30441);t.Z=e=>{let{text:t,width:n=200}=e;return(0,o.jsx)(r.Z,{title:t,children:(0,o.jsx)("div",{style:{minWidth:"0px",maxWidth:n,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t||"--"})})}},33750:function(e,t,n){"use strict";var o=n(85893),r=n(10996);t.Z=e=>{let{isShowLeft:t,leftPanel:n,rightPanel:a,leftPanelWidth:c=280}=e;return(0,o.jsxs)(r.Z,{onResize:e=>{},children:[(0,o.jsx)(r.Z.Panel,{style:{paddingRight:t?"12px":0},size:t?c:0,children:t?n:null}),(0,o.jsx)(r.Z.Panel,{style:{paddingLeft:"12px"},resizable:!1,children:a})]})}},45114:function(e,t,n){"use strict";var o=n(85893),r=n(21550);t.Z=e=>{let{value:t,color:n,style:a}=e;return(0,o.jsx)(r.Z,{style:{borderRadius:"20px",padding:"2px 8px",cursor:"default",...a},color:n,children:t})}},57980:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var o=n(97834),r=n(38304);let a=(0,o.Z)(r.Z)({"& .ant-table":{"& .ant-table-container":{"& .ant-table-body, & .ant-table-content":{scrollbarColor:"#eaeaea transparent"}}}})},91499:function(e,t,n){"use strict";var o=n(87066),r=n(35955);let a=o.Z.create({baseURL:r.Sg,timeout:6e4,headers:{"Content-Type":"application/json"}});t.Z=a},35955:function(e,t,n){"use strict";n.d(t,{Sg:function(){return o},Vl:function(){return r},l:function(){return a}});let o="https://cna.fengslab.com/api",r=o+"/database",a=o+"/analysis"},18244:function(e,t,n){"use strict";n.d(t,{$V:function(){return i},$t:function(){return b},Fv:function(){return I},L_:function(){return Z},N0:function(){return s},OG:function(){return m},Ok:function(){return v},QJ:function(){return y},U$:function(){return C},WQ:function(){return j},ae:function(){return r},f4:function(){return S},gS:function(){return d},gy:function(){return _},h8:function(){return x},kH:function(){return u},ks:function(){return w},l$:function(){return p},l4:function(){return h},sN:function(){return c},tj:function(){return l},u4:function(){return f},vS:function(){return g},xW:function(){return a}});var o=n(35955);let r=e=>{let t=document.createElement("a");t.href=e,t.click()},a=()=>"".concat(o.Vl,"/datasets/"),c=e=>"".concat(o.Vl,"/download_dataset/?dataset_name=").concat(e),l=e=>"".concat(o.Vl,"/datasets/").concat(encodeURIComponent(e),"/"),s=e=>"".concat(o.Vl,"/samples/?dataset_name=").concat(encodeURIComponent(e)),i=(e,t,n)=>"".concat(o.Vl,"/CNA_matrix/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),u=()=>"".concat(o.Vl,"/CNA_vector/"),d=(e,t,n)=>"".concat(o.Vl,"/CNA_meta/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),p=(e,t,n)=>"".concat(o.Vl,"/CNA_tree/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),m=(e,t,n)=>"".concat(o.Vl,"/CNA_genes/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),f=(e,t,n)=>"".concat(o.Vl,"/CNA_newick/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),x=()=>"".concat(o.Vl,"/CNA_gene_matrix/"),g=(e,t,n)=>"".concat(o.Vl,"/CNA_terms/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),h=()=>"".concat(o.Vl,"/CNA_term_matrix/"),C=e=>"".concat(o.Vl,"/focal_CNA_options/?dataset_name=").concat(encodeURIComponent(e)),w=(e,t,n)=>"".concat(o.Vl,"/focal_CNA_info/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(n),"&cn_type=").concat(encodeURIComponent(t)),_=(e,t,n)=>"".concat(o.Vl,"/ploidy_distribution/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),j=(e,t,n)=>"".concat(o.Vl,"/top_cn_variance/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),y=(e,t,n)=>"".concat(o.Vl,"/spatial_top_cn_variance/?dataset_name=").concat(encodeURIComponent(e),"&workflow_type=").concat(encodeURIComponent(t),"&bin_size=").concat(encodeURIComponent(n)),v=e=>"".concat(o.Vl,"/consensus_focal_gene/?dataset_name=").concat(encodeURIComponent(e)),Z=e=>"".concat(o.Vl,"/consensus_gene/?dataset_name=").concat(encodeURIComponent(e)),b=e=>"".concat(o.Vl,"/consensus_gene_download/?dataset_name=").concat(encodeURIComponent(e)),I=e=>"".concat(o.Vl,"/pathway_enrichment_options/?dataset_name=").concat(encodeURIComponent(e)),S=(e,t,n)=>"".concat(o.Vl,"/pathway_enrichment_plot/?dataset_name=").concat(encodeURIComponent(e),"&cn_type=").concat(encodeURIComponent(t),"&workflow=").concat(encodeURIComponent(n))},38106:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var o=n(91499);let r=async e=>{try{return(await o.Z.get(e)).data}catch(o){var t,n;let e=Error("An error occurred while fetching the data.");throw e.info=(null===(t=o.response)||void 0===t?void 0:t.data)||{},e.status=null===(n=o.response)||void 0===n?void 0:n.status,e}}},21306:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var o=n(67294),r=n(21599),a=n(15503),c=n(84476),l=n(93967),s=n.n(l),i=n(80672),u=n(17399),d=n(97845),p=e=>{let t;let{value:n,formatter:r,precision:a,decimalSeparator:c,groupSeparator:l="",prefixCls:s}=e;if("function"==typeof r)t=r(n);else{let e=String(n),r=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(r&&"-"!==e){let e=r[1],n=r[2]||"0",i=r[4]||"";n=n.replace(/\B(?=(\d{3})+(?!\d))/g,l),"number"==typeof a&&(i=i.padEnd(a,"0").slice(0,a>0?a:0)),i&&(i="".concat(c).concat(i)),t=[o.createElement("span",{key:"int",className:"".concat(s,"-content-value-int")},e,n),i&&o.createElement("span",{key:"decimal",className:"".concat(s,"-content-value-decimal")},i)]}else t=e}return o.createElement("span",{className:"".concat(s,"-content-value")},t)},m=n(30641),f=n(52317),x=n(88494);let g=e=>{let{componentCls:t,marginXXS:n,padding:o,colorTextDescription:r,titleFontSize:a,colorTextHeading:c,contentFontSize:l,fontFamily:s}=e;return{[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{["".concat(t,"-title")]:{marginBottom:n,color:r,fontSize:a},["".concat(t,"-skeleton")]:{paddingTop:o},["".concat(t,"-content")]:{color:c,fontSize:l,fontFamily:s,["".concat(t,"-content-value")]:{display:"inline-block",direction:"ltr"},["".concat(t,"-content-prefix, ").concat(t,"-content-suffix")]:{display:"inline-block"},["".concat(t,"-content-prefix")]:{marginInlineEnd:n},["".concat(t,"-content-suffix")]:{marginInlineStart:n}}})}};var h=(0,f.I$)("Statistic",e=>[g((0,x.IX)(e,{}))],e=>{let{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}}),C=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let w=o.forwardRef((e,t)=>{let{prefixCls:n,className:r,rootClassName:a,style:c,valueStyle:l,value:m=0,title:f,valueRender:x,prefix:g,suffix:w,loading:_=!1,formatter:j,precision:y,decimalSeparator:v=".",groupSeparator:Z=",",onMouseEnter:b,onMouseLeave:I}=e,S=C(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:L,direction:k,className:R,style:N}=(0,u.dj)("statistic"),O=L("statistic",n),[U,A,E]=h(O),z=o.createElement(p,{decimalSeparator:v,groupSeparator:Z,prefixCls:O,formatter:j,precision:y,value:m}),M=s()(O,{["".concat(O,"-rtl")]:"rtl"===k},R,r,a,A,E),P=o.useRef(null);o.useImperativeHandle(t,()=>({nativeElement:P.current}));let V=(0,i.Z)(S,{aria:!0,data:!0});return U(o.createElement("div",Object.assign({},V,{ref:P,className:M,style:Object.assign(Object.assign({},N),c),onMouseEnter:b,onMouseLeave:I}),f&&o.createElement("div",{className:"".concat(O,"-title")},f),o.createElement(d.Z,{paragraph:!1,loading:_,className:"".concat(O,"-skeleton")},o.createElement("div",{style:l,className:"".concat(O,"-content")},g&&o.createElement("span",{className:"".concat(O,"-content-prefix")},g),x?x(z):z,w&&o.createElement("span",{className:"".concat(O,"-content-suffix")},w)))))}),_=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];var j=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n},y=e=>{let{value:t,format:n="HH:mm:ss",onChange:l,onFinish:s,type:i}=e,u=j(e,["value","format","onChange","onFinish","type"]),d="countdown"===i,[p,m]=o.useState(null),f=(0,r.zX)(()=>{let e=Date.now(),n=new Date(t).getTime();return m({}),null==l||l(d?n-e:e-n),!d||!(n<e)||(null==s||s(),!1)});return o.useEffect(()=>{let e;let t=()=>{e=(0,a.Z)(()=>{f()&&t()})};return t(),()=>a.Z.cancel(e)},[t,d]),o.useEffect(()=>{m({})},[]),o.createElement(w,Object.assign({},u,{value:t,valueRender:e=>(0,c.Tm)(e,{title:void 0}),formatter:(e,t)=>p?function(e,t,n){let{format:o=""}=t,r=new Date(e).getTime(),a=Date.now();return function(e,t){let n=e,o=/\[[^\]]*]/g,r=(t.match(o)||[]).map(e=>e.slice(1,-1)),a=t.replace(o,"[]"),c=_.reduce((e,t)=>{let[o,r]=t;if(e.includes(o)){let t=Math.floor(n/r);return n-=t*r,e.replace(RegExp("".concat(o,"+"),"g"),e=>{let n=e.length;return t.toString().padStart(n,"0")})}return e},a),l=0;return c.replace(o,()=>{let e=r[l];return l+=1,e})}(n?Math.max(r-a,0):Math.max(a-r,0),o)}(e,Object.assign(Object.assign({},t),{format:n}),d):"-"}))},v=o.memo(e=>o.createElement(y,Object.assign({},e,{type:"countdown"})));w.Timer=y,w.Countdown=v;var Z=w},16191:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ef}});var o=n(85893),r=n(89073),a=n(13368),c=n(16976),l=n(18244),s=n(38106);let i=()=>{let{data:e,error:t,isLoading:n,mutate:o}=(0,c.ZP)((0,l.xW)(),s._);return{datasets:e||[],isLoading:n,isError:t,mutate:o}};var u=n(33750),d=n(79967),p=n(61080),m=n(67294),f=n(22904),x=n(34953),g=n(58514),h=n(30441),C=n(40530),w=n(21720),_=n(40192),j=n(53224);let y=()=>(0,o.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",children:[(0,o.jsx)("path",{d:"M610.152032 1024a65.621279 65.621279 0 0 1-32.767973-10.495991l-196.266503-105.898579a65.365279 65.365279 0 0 1-34.133305-57.514618V395.94719L30.653848 114.347425A65.535945 65.535945 0 0 1 74.515145 0.000853h875.51927a65.535945 65.535945 0 0 1 43.861297 114.346572L675.602644 398.592521v559.359534a65.450612 65.450612 0 0 1-65.450612 65.365279zM74.515145 65.366132l339.199717 301.226416v483.583597l196.266503 107.861243V369.920545L949.863749 66.048798H74.344478l-20.991982 24.149314z"}),(0,o.jsx)("path",{d:"M966.589068 732.501576l-65.535945-65.535945-65.535946 65.535945a28.586643 28.586643 0 0 1-20.223983 8.533326 28.50131 28.50131 0 0 1-26.453311-17.663985 28.586643 28.586643 0 0 1 6.143995-31.231974l65.535945-65.535945-65.535945-65.535946a28.671976 28.671976 0 0 1 0-40.533299 28.671976 28.671976 0 0 1 40.533299 0l65.535946 65.535945 65.535945-65.535945a28.671976 28.671976 0 0 1 40.5333 0 28.671976 28.671976 0 0 1 0 40.533299l-65.535946 65.535946 65.535946 65.535945a28.586643 28.586643 0 0 1 6.143995 31.231974 28.50131 28.50131 0 0 1-26.453312 17.663985 28.586643 28.586643 0 0 1-20.223983-8.533326z"})]});var v=e=>(0,o.jsx)(j.Z,{component:y,...e});let Z=e=>{let{clearActiveKeys:t,clearFilters:n}=e;return(0,o.jsxs)(r.Z,{direction:"row",spacing:2,children:[(0,o.jsx)(g.ZP,{icon:(0,o.jsx)(_.Z,{rotate:90}),onClick:t,children:"Collapse All"}),(0,o.jsx)(g.ZP,{icon:(0,o.jsx)(v,{}),onClick:n,children:"Clear Filters"})]})},b=e=>{let{option:t}=e;return(0,o.jsx)(h.Z,{title:t,children:(0,o.jsx)(C.default.Text,{ellipsis:!0,style:{maxWidth:"200px"},children:t})})},I=e=>e||"NA",S={"Bin Integer":"Bin Absolute","Bin Log":"Bin Log","Gene Integer":"Gene Absolute","Gene Log":"Gene Log"},L=e=>e?S[e]:"NA",k=e=>{let{name:t,options:n,selected:a,setSelected:c,OptionWrapper:l=b,formatFn:s=I}=e;return(0,o.jsx)(w.Z.Group,{name:t,onChange:e=>{c(n=>({...n,[t]:e}))},value:a[t],children:(0,o.jsx)(r.Z,{sx:{width:"250px",maxHeight:"200px",overflowX:"auto"},children:n.map((e,t)=>(0,o.jsx)(w.Z,{value:e,children:(0,o.jsx)(l,{option:s?s(e):e})},t))})})},R=(e,t,n)=>Object.keys(e).map(r=>({key:r,label:N[r],children:(0,o.jsx)(k,{name:r,options:e[r],selected:t,setSelected:n,formatFn:"cn_type"===r?L:I})})),N={source:"Source",programme:"Programme",modality:"Modality",obs_type:"Observation Type",protocol:"Protocol",platform:"Platform",workflow:"Workflow",cn_type:"CNA Value Type",reference:"Reference",cancer_type:"Cancer Subtype"};var O=e=>{let{filters:t,setFilters:n,availableFilters:a,clearFilters:c}=e,[l,s]=(0,m.useState)(["source","programme","modality"]),i=(0,m.useMemo)(()=>R(a,t,n),[a,t,n]);return(0,o.jsxs)(r.Z,{spacing:2,sx:{pt:"8px"},children:[(0,o.jsx)(Z,{clearActiveKeys:()=>{s([])},clearFilters:c}),(0,o.jsx)(f.ZP,{theme:{components:{Collapse:{headerBg:"#FFFFFF"}}},children:(0,o.jsx)(x.Z,{items:i,activeKey:l,onChange:e=>{s(e)}})})]})},U=n(57980),A=n(45114),E=n(87462),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},M=n(44192),P=m.forwardRef(function(e,t){return m.createElement(M.Z,(0,E.Z)({},e,{ref:t,icon:z}))}),V=e=>{let{href:t,size:n=18,tooltip:r=!0}=e;if(!t)return"--";let c=(0,o.jsx)(a.Z,{component:"a",href:t,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(P,{style:{fontSize:n}})});return r?(0,o.jsx)(h.Z,{title:t,children:c}):c},T=n(93619),F=n(4),D=n(48498),B=n(25168),G=n(12252);n(19328);var W=n(91597),H=n(28908),$=n(71218);let X=[{title:"Dataset Name",dataIndex:"name",sorter:(e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()),fixed:"left",align:"center",render:e=>(0,o.jsx)(A.Z,{value:e,color:"purple"})},{title:"Dataset Full Name",dataIndex:"full_name",sorter:(e,t)=>e.full_name.toLowerCase().localeCompare(t.full_name.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Dataset Link",dataIndex:"link",align:"center",render:e=>(0,o.jsx)(V,{href:e})},{title:"Source",dataIndex:"source",sorter:(e,t)=>e.source.toLowerCase().localeCompare(t.source.toLowerCase()),align:"center",render:e=>(0,o.jsx)(T.Z,{value:e})},{title:"Programme",dataIndex:"programme",sorter:(e,t)=>e.programme.toLowerCase().localeCompare(t.programme.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Modality",dataIndex:"modality",sorter:(e,t)=>e.modality.toLowerCase().localeCompare(t.modality.toLowerCase()),align:"center",render:e=>(0,o.jsx)(D.Z,{value:e})},{title:"Observation Type",dataIndex:"obs_type",sorter:(e,t)=>e.obs_type.toLowerCase().localeCompare(t.obs_type.toLowerCase()),align:"center",render:e=>(0,o.jsx)(B.Z,{value:e})},{title:"Protocol",dataIndex:"protocol",sorter:(e,t)=>e.protocol.toLowerCase().localeCompare(t.protocol.toLowerCase()),align:"left",render:e=>(0,o.jsx)(G.Z,{value:e,color:"cyan"})},{title:"Platform",dataIndex:"platform",sorter:(e,t)=>e.platform.toLowerCase().localeCompare(t.platform.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Workflow",dataIndex:"workflow",sorter:(e,t)=>e.workflow.toLowerCase().localeCompare(t.workflow.toLowerCase()),align:"left",render:e=>(0,o.jsx)(G.Z,{value:e,color:"geekblue"})},{title:"Raw CN Scale",dataIndex:"raw_cn_scale",sorter:(e,t)=>e.raw_cn_scale.toLowerCase().localeCompare(t.raw_cn_scale.toLowerCase()),align:"center",render:e=>(0,o.jsx)(A.Z,{value:e})},{title:"Raw Locus Type",dataIndex:"raw_locus_type",sorter:(e,t)=>e.raw_locus_type.toLowerCase().localeCompare(t.raw_locus_type.toLowerCase()),align:"center",render:e=>(0,o.jsx)(A.Z,{value:e})},{title:"Reference",dataIndex:"reference",sorter:(e,t)=>e.reference.toLowerCase().localeCompare(t.reference.toLowerCase()),align:"center",render:e=>(0,o.jsx)(W.Z,{value:e})},{title:"Cancer Subtype",dataIndex:"cancer_type",sorter:(e,t)=>e.cancer_type.toLowerCase().localeCompare(t.cancer_type.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Cancer Subtype Full Name",dataIndex:"cancer_type_full_name",sorter:(e,t)=>e.cancer_type_full_name.toLowerCase().localeCompare(t.cancer_type_full_name.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Sample Num",dataIndex:"sample_num",sorter:(e,t)=>{var n,o;return(null!==(n=e.sample_num)&&void 0!==n?n:0)-(null!==(o=t.sample_num)&&void 0!==o?o:0)},align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Cell Num",dataIndex:"cell_num",sorter:(e,t)=>{var n,o;return(null!==(n=e.cell_num)&&void 0!==n?n:0)-(null!==(o=t.cell_num)&&void 0!==o?o:0)},align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Spot Num",dataIndex:"spot_num",sorter:(e,t)=>{var n;return e.spot_num-(null!==(n=t.spot_num)&&void 0!==n?n:0)},align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Usage Permission",dataIndex:"usage_permission",sorter:(e,t)=>e.usage_permission.toLowerCase().localeCompare(t.usage_permission.toLowerCase()),align:"center",render:e=>(0,o.jsx)(F.Z,{text:e})},{title:"Action",key:"operation",fixed:"right",align:"center",render:(e,t)=>(0,o.jsxs)(r.Z,{direction:"row",spacing:2,justifyContent:"center",children:[(0,o.jsx)(g.ZP,{type:"primary",icon:(0,o.jsx)(H.Z,{}),href:"/database/detail?datasetName=".concat(t.name),children:"Detail"}),(0,o.jsx)(g.ZP,{icon:(0,o.jsx)($.Z,{}),onClick:()=>(0,l.ae)((0,l.sN)(t.name)),children:"Download"})]})}];var K=e=>{let{data:t}=e;return(0,o.jsx)(U.k,{columns:X,rowKey:e=>e.id,dataSource:t,scroll:{x:"max-content"}})},Q=n(19792),J=n(38236),Y=e=>{let{onSearch:t,defaultValue:n="",placeholder:r="Search datasets…"}=e,[a,c]=(0,m.useState)(n);return(0,o.jsx)(J.Z.Search,{allowClear:!0,value:a,placeholder:r,onChange:e=>c(e.target.value),onSearch:()=>{null==t||t(a.trim())},onClear:()=>{null==t||t("")},style:{width:280}})},q=n(21306),ee=e=>{let{datasetsNum:t,isShowLeft:n,handleIsShowLeftChange:c,handleSearchTextChange:l}=e;return(0,o.jsxs)(r.Z,{direction:"row",justifyContent:"space-between",children:[(0,o.jsx)(Q.Z,{isShowLeft:n,handleIsShowLeftChange:c,title:"Filter Options"}),(0,o.jsxs)(r.Z,{direction:"row",spacing:2,children:[(0,o.jsxs)(r.Z,{direction:"row",spacing:1,alignItems:"center",sx:{fontSize:"20px"},children:[(0,o.jsx)(a.Z,{component:"span",children:"TOTAL OF "}),(0,o.jsx)(q.Z,{value:t,valueStyle:{fontSize:"20px",fontWeight:700}}),(0,o.jsx)(a.Z,{component:"span",children:"DATASETS"})]}),(0,o.jsx)(Y,{onSearch:l})]})]})},et=n(69386),en=n(11163);let eo=new Set(["programme","protocol","workflow"]),er={keys:["name","full_name","link","source","programme","modality","obs_type","protocol","platform","workflow","reference","cancer_type","cancer_type_full_name"],isCaseSensitive:!1,threshold:.3,ignoreLocation:!0,minMatchCharLength:2},ea=e=>{let{datasets:t,initialFilters:n}=e,[a,c]=(0,m.useState)(!0),[l,s]=(0,m.useState)(n),[i,d]=(0,m.useState)("");(0,m.useEffect)(()=>{s(n)},[n]);let p=(0,m.useMemo)(()=>ec(t),[t]);console.log(p);let f=(0,m.useMemo)(()=>{let e=t;for(let t in l){let n=l[t],o=Array.isArray(n)?n:n?[n]:[];if(0===o.length)continue;let r=ei(o);e=eo.has(t)?e.filter(e=>{let n=es(e[t]),o=n.some(e=>r.has(e)),a=r.has("")&&0===n.length;return o||a}):e.filter(e=>{let n=e[t];return!!(r.has("")&&eu(n))||!eu(n)&&r.has(String(n).trim())})}return e},[t,l]),x=(0,m.useMemo)(()=>{let e=i.trim();return e?new et.Z(f,er).search(e).map(e=>e.item):f},[f,i]),g=()=>{c(!a)};return(0,o.jsx)(u.Z,{isShowLeft:a,leftPanel:(0,o.jsx)(O,{filters:l,setFilters:s,availableFilters:p,clearFilters:()=>{s({})}}),rightPanel:(0,o.jsxs)(r.Z,{spacing:3,sx:{pt:"8px"},children:[(0,o.jsx)(ee,{datasetsNum:x.length,isShowLeft:a,handleIsShowLeftChange:g,handleSearchTextChange:e=>{d(e)}}),(0,o.jsx)(K,{data:x,isShowLeft:a,handleIsShowLeftChange:g})]})})},ec=e=>{if(!e)return{};let t=e=>[...new Set(e)].sort((e,t)=>e.localeCompare(t));return{source:t(e.map(e=>e.source)),programme:el(e,"programme"),modality:t(e.map(e=>e.modality)),obs_type:t(e.map(e=>e.obs_type)),protocol:el(e,"protocol"),platform:t(e.map(e=>e.platform)),workflow:el(e,"workflow"),cn_type:t(e.map(e=>e.cn_type)),reference:t(e.map(e=>e.reference)),cancer_type:t(e.map(e=>e.cancer_type))}},el=(e,t)=>[...new Set(e.flatMap(e=>{let n=es(e[t]);return n.length>0?n:[""]}))].sort((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})),es=e=>e?String(e).split(/[,/]/).map(e=>e.trim()).filter(Boolean):[],ei=e=>new Set(e.map(e=>String(e).trim())),eu=e=>null==e||""===String(e).trim();var ed=e=>{let{}=e,{datasets:t,isLoading:n,isError:r}=i(),{query:a}=(0,en.useRouter)(),c=(0,m.useMemo)(()=>{let e={};for(let t of Object.keys(a)){let n=a[t];n&&(e[t]=n.split(","))}return e},[a]);return n?(0,o.jsx)(d.Z,{containerSx:{height:"80vh",marginTop:"40px"}}):r?(0,o.jsx)(p.Z,{containerSx:{height:"80vh",marginTop:"40px"}}):(0,o.jsx)(ea,{datasets:t,initialFilters:c})},ep=n(9008),em=n.n(ep),ef=e=>{let{}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(em(),{children:[(0,o.jsx)("title",{children:"Datasets | CNAScope"}),(0,o.jsx)("meta",{name:"description",content:"CNAScope Dataset Table"})]}),(0,o.jsxs)(r.Z,{spacing:4,sx:{marginTop:"24px"},children:[(0,o.jsx)(a.Z,{component:"h6",sx:{fontSize:"40px"},children:"Dataset List"}),(0,o.jsx)(ed,{})]})]})}}},function(e){e.O(0,[920,944,943,441,530,41,888,774,179],function(){return e(e.s=50385)}),_N_E=e.O()}]);