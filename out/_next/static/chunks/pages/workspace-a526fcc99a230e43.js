(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{3761:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace",function(){return n(7423)}])},1226:function(e,t,n){"use strict";n.d(t,{DM:function(){return i},US:function(){return r},gR:function(){return a}});var s=n(5955);let a=()=>"".concat(s.l,"/submit_basic_annotation_task/"),i=()=>"".concat(s.l,"/submit_recurrent_cna_task/"),r=()=>"".concat(s.l,"/query_task/")},1499:function(e,t,n){"use strict";var s=n(7066),a=n(5955);let i=s.Z.create({baseURL:a.Sg,timeout:6e4,headers:{"Content-Type":"application/json"}});t.Z=i},5955:function(e,t,n){"use strict";n.d(t,{Sg:function(){return s},Vl:function(){return a},l:function(){return i}});let s="https://cna.fengslab.com/api",a=s+"/database",i=s+"/analysis"},7423:function(e,t,n){"use strict";n.r(t),n.d(t,{InformationDescriptions:function(){return _}});var s=n(5893),a=n(7294),i=n(1163),r=n(8236),l=n(8514),c=n(8348),u=n(3484),d=n(2395),o=n(9073),p=n(3368),h=n(6793),x=n(1499),k=n(1226),y=n(9980);let g=e=>{let{taskInformation:t,handleSearch:n}=e;return(0,s.jsx)(p.Z,{sx:{border:"1px solid #1677FF",borderRadius:"10px",padding:"32px 32px"},children:null===t?(0,s.jsx)(f,{}):(0,s.jsx)(m,{taskInformation:t,handleSearch:n})})},f=()=>(0,s.jsx)(o.Z,{sx:{alignItems:"center",height:"450px",justifyContent:"center"},children:(0,s.jsx)(c.Z,{})}),m=e=>{let{taskInformation:t,handleSearch:n}=e,a=(0,i.useRouter)(),r=()=>{a.push("/result?resultId=".concat(t.uuid))};return(0,s.jsxs)(o.Z,{spacing:2,children:[(0,s.jsx)(p.Z,{component:"h6",sx:{fontSize:"28px",fontWeight:"500",paddingBottom:"12px"},children:"Task Information:"}),(0,s.jsx)(p.Z,{sx:{padding:"0px 32px"},children:(0,s.jsx)(_,{taskInformation:t})}),(0,s.jsxs)(o.Z,{direction:"row",spacing:4,sx:{justifyContent:"space-around",paddingTop:"16px",paddingLeft:"32px",paddingRight:"32px"},children:[(0,s.jsx)(l.ZP,{size:"large",style:{width:"400px"},onClick:()=>n(t.uuid),children:"Refresh Task Status"}),(0,s.jsx)(l.ZP,{type:"primary",size:"large",style:{width:"400px"},disabled:"S"!==t.data.status,onClick:()=>r(),children:"View Task Detail"})]})]})},j={R:"Running",P:"Pending",S:"Success",F:"Failed"},T={Running:(0,s.jsx)(u.Z,{status:"processing",text:"Running"}),Success:(0,s.jsx)(u.Z,{status:"success",text:"Success"}),Pending:(0,s.jsx)(u.Z,{status:"default",text:"Pending"}),Failed:(0,s.jsx)(u.Z,{status:"error",text:"Failed"})},b=e=>{let t=[];return t.push({key:"TaskUUID",label:"Task UUID",children:e.data.uuid,span:2}),t.push({key:"Status",label:"Status",children:T[j[e.data.status]],span:2}),t.push({key:"TaskType",label:"Task Type",children:e.task_type,span:2}),t.push({key:"CreateTime",label:"Create Time",children:e.data.create_time,span:1}),t.push({key:"FinishTime",label:"Finish Time",children:e.data.finish_time,span:1}),t.push({key:"obsType",label:"Observation Type",children:e.data.obs_type,span:1}),t.push({key:"reference",label:"Reference",children:e.data.ref,span:1}),"BasicAnnotationTask"===e.task_type&&(t.push({key:"k",label:"K",children:e.data.k,span:1}),t.push({key:"valueType",label:"CNA Value Type",children:e.data.value_type,span:1}),t.push({key:"windowType",label:"Window Type",children:e.data.window_type,span:1})),t},_=e=>{let{taskInformation:t}=e,n=b(t);return(0,s.jsx)(d.Z,{bordered:!0,items:n,column:2})};t.default=e=>{let{tasks:t,userId:n}=e,i=(0,y.z)(),[c,u]=(0,a.useState)(""),[d,f]=(0,a.useState)(null),m=async()=>{try{let e=await x.Z.get((0,k.US)(),{params:{taskUUID:c}});f(e.data)}catch(e){f(null),e?"ERR_BAD_REQUEST"===e.code?i.error("Please Enter a Correct UUID!"):i.error(e.message):i.error("Please check the UUID you submit.")}};return(0,s.jsxs)(o.Z,{spacing:1,sx:{alignItems:"center"},children:[(0,s.jsx)(p.Z,{component:"h6",sx:{fontSize:"40px",paddingBottom:"48px",paddingTop:"32px"},children:"Task Query"}),(0,s.jsxs)(o.Z,{direction:"row",spacing:3,sx:{alignItems:"center"},children:[(0,s.jsx)(p.Z,{component:"span",sx:{fontSize:"24px",fontWeight:"500"},children:"UUID:"}),(0,s.jsx)(r.Z,{placeholder:"Please Enter Task UUID...",allowClear:!0,size:"large",style:{width:"700px",borderRadius:"18px"},value:c,onChange:e=>{u(e.target.value)}}),(0,s.jsx)(l.ZP,{type:"primary",size:"large",icon:(0,s.jsx)(h.Z,{}),style:{borderRadius:"18px"},onClick:m,children:"Search"})]}),(0,s.jsx)(p.Z,{sx:{paddingTop:"60px",width:"90%"},children:(0,s.jsx)(g,{taskInformation:d,handleSearch:m})})]})}}},function(e){e.O(0,[920,70,236,4,888,774,179],function(){return e(e.s=3761)}),_N_E=e.O()}]);