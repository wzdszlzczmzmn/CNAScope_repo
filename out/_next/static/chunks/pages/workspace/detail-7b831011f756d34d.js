(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{17149:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/detail",function(){return n(70256)}])},1226:function(e,t,n){"use strict";n.d(t,{$G:function(){return o},$N:function(){return f},BQ:function(){return Z},DM:function(){return a},Dy:function(){return g},ED:function(){return p},EY:function(){return u},Ed:function(){return x},JO:function(){return h},Sz:function(){return C},UF:function(){return c},US:function(){return s},b5:function(){return v},d1:function(){return j},gR:function(){return r},jo:function(){return l},oi:function(){return m},te:function(){return d}});var i=n(35955);let r=()=>"".concat(i.l,"/submit_basic_annotation_task/"),a=()=>"".concat(i.l,"/submit_recurrent_cna_task/"),s=()=>"".concat(i.l,"/query_task/"),o=e=>"".concat(i.l,"/run_demo/?name=").concat(e),l=e=>"".concat(i.l,"/query_task/?taskUUID=").concat(e),c=e=>"".concat(i.l,"/CNA_matrix/?uuid=").concat(e),d=e=>"".concat(i.l,"/CNA_meta/?uuid=").concat(e),u=e=>"".concat(i.l,"/CNA_tree/?uuid=").concat(e),x=e=>"".concat(i.l,"/CNA_genes/?uuid=").concat(e),p=e=>"".concat(i.l,"/CNA_newick/?uuid=").concat(e),h=()=>"".concat(i.l,"/CNA_gene_matrix/"),g=e=>"".concat(i.l,"/CNA_terms/?uuid=").concat(e),j=()=>"".concat(i.l,"/CNA_term_matrix/"),m=e=>"".concat(i.l,"/ploidy_distribution/?uuid=").concat(e),Z=e=>"".concat(i.l,"/focal_CNA_info/?uuid=").concat(e),f=e=>"".concat(i.l,"/download_task_data/?uuid=").concat(e),v=e=>"".concat(i.l,"/top_cn_variance/?uuid=").concat(encodeURIComponent(e)),C=()=>"".concat(i.l,"/CNA_vector/")},70256:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ef}});var i=n(85893),r=n(11163),a=n(16976),s=n(38106),o=n(1226);let l=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.jo)(e),s._);return{task:t,isTaskLoading:i,isTaskError:n,mutate:r}};var c=n(79967),d=n(61080),u=n(9008),x=n.n(u),p=n(89073),h=n(13368),g=n(27423),j=n(67294),m=n(58514),Z=n(71218),f=n(99897);let v=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.UF)(e),s._);return{matrix:t,isMatrixLoading:i,isMatrixError:n,mutate:r}},C=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.te)(e),s._);return{meta:t,isMetaLoading:i,isMetaError:n,mutate:r}},y=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.EY)(e),s._);return{tree:t,isTreeLoading:i,isTreeError:n,mutate:r}};var k=n(19141),b=n(72707);let S=e=>{let t=e.data.value_type,n=e.data.window_type;return"int"===t&&"bin"===n?"Bin Integer":"int"===t&&"gene"===n?"Gene Integer":"log"===t&&"bin"===n?"Bin Log":"log"===t&&"gene"===n?"Gene Log":void 0},w=e=>{let{task:t,vizRef:n}=e,{matrix:r,isMatrixLoading:a,isMatrixError:s}=v(t.data.uuid),{meta:o,isMetaLoading:l,isMetaError:u}=C(t.data.uuid),{tree:x,isTreeLoading:p,isTreeError:h}=y(t.data.uuid);if(a||l||p)return(0,i.jsx)(c.Z,{height:"920px"});if(s||u||h)return(0,i.jsx)(d.Z,{height:"920px"});let g="int"===t.data.value_type?2:0;return(0,i.jsx)(k.Z,{matrix:r,meta:o,tree:x,baselineCNA:g,reference:t.ref,vizRef:n})};var _=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["Bin-Level CNA Heatmap(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(w,{task:t,vizRef:n})})]})};n(89795),n(6011);let z=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.ED)(e),s._);return{newick:t,isNewickLoading:i,isNewickError:n,mutate:r}},T=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.Ed)(e),s._);return{genes:t,isGenesLoading:i,isGenesError:n,mutate:r}};var R=n(91499),N=n(18244),I=n(76415);let P=e=>{let{task:t,vizRef:n}=e,{meta:r,isMetaLoading:a,isMetaError:s}=C(t.data.uuid),{newick:l,isNewickLoading:u,isNewickError:x}=z(t.data.uuid),{genes:p,isGenesLoading:h,isGenesError:g}=T(t.data.uuid),j="int"===t.data.value_type?2:0;return a||u||h?(0,i.jsx)(c.Z,{height:"920px"}):s||x||g?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)(I.Z,{entity:"Gene",meta:r,newick:l,genes:p,geneMatrixFetcher:e=>R.Z.post((0,o.JO)(),{uuid:t.data.uuid,genes:e}),baselineCNA:j,vizRef:n})};var B=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["Gene-Level CNA Heatmap(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(P,{task:t,vizRef:n})})]})};n(71804),n(44299);let D=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.Dy)(e),s._);return{terms:t,isTermsLoading:i,isTermsError:n,mutate:r}},E=e=>{let{task:t,vizRef:n}=e,{meta:r,isMetaLoading:a,isMetaError:s}=C(t.data.uuid),{newick:l,isNewickLoading:u,isNewickError:x}=z(t.data.uuid),{terms:p,isTermsLoading:h,isTermsError:g}=D(t.data.uuid),j="int"===t.data.value_type?2:0;return a||u||h?(0,i.jsx)(c.Z,{height:"920px"}):s||x||g?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)(I.Z,{entity:"Term",meta:r,newick:l,genes:p,geneMatrixFetcher:e=>R.Z.post((0,o.d1)(),{uuid:t.data.uuid,terms:e}),baselineCNA:j,vizRef:n})};var A=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["Term-Level CNA Heatmap(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(E,{task:t,vizRef:n})})]})},F=n(61546);let L=e=>{let{task:t,vizRef:n}=e,{meta:r,isMetaLoading:a,isMetaError:s}=C(t.data.uuid),{newick:o,isNewickLoading:l,isNewickError:u}=z(t.data.uuid);return a||l?(0,i.jsx)(c.Z,{height:"920px"}):s||u?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)(F.Z,{meta:r,newick:o,vizRef:n})};var U=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["CNA Phylogenetic Tree(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(L,{task:t,vizRef:n})})]})},G=n(91076),V=n(21333),M=n(11927);let O=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.b5)(e),s._),l=[];if(t)try{l=M.ueB(t,M.rA8)}catch(e){console.error("Error parsing CSV:",e)}return{topCNVariances:l,isTopCNVariancesLoading:i,isTopCNVariancesError:n,mutate:r}},K=e=>{let{task:t,CNType:n,vizRef:r}=e,{meta:a,isMetaLoading:s,isMetaError:l}=C(t.data.uuid),{newick:u,isNewickLoading:x,isNewickError:p}=z(t.data.uuid),{topCNVariances:h,isTopCNVariancesLoading:g,isTopCNVariancesError:m}=O(t.data.uuid),{parsedMeta:Z,embeddingMethods:f,extents:v}=(0,j.useMemo)(()=>a?(0,V.Rr)(a):{parsedMeta:[],embeddingMethods:[],extents:{}},[a]),{binOptions:y,geneOptions:k,termOptions:b}=(0,j.useMemo)(()=>h?(0,V.vK)(h):{binOptions:[],geneOptions:[],termOptions:[]},[h]);return s||x||g?(0,i.jsx)(c.Z,{height:"920px"}):l||p||m?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)(G.Z,{meta:Z,embeddingMethods:f,extents:v,newick:u,bins:y,genes:k,terms:b,dataset:null,binVectorFetcher:e=>R.Z.post((0,o.Sz)(),{uuid:t.data.uuid,bins:[e]}),geneVectorFetcher:e=>R.Z.post((0,o.JO)(),{uuid:t.data.uuid,genes:[e]}),termVectorFetcher:e=>R.Z.post((0,o.d1)(),{uuid:t.data.uuid,terms:[e]}),isLog:"Gene Log"===n||"Bin Log"===n,vizRef:r})};var W=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["CNA Embedding Map(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(K,{task:t,CNType:r,vizRef:n})})]})},H=n(78292);let Q=e=>{let{task:t,vizRef:n}=e,{matrix:r,isMatrixLoading:a,isMatrixError:s}=v(t.data.uuid),{meta:o,isMetaLoading:l,isMetaError:u}=C(t.data.uuid),{newick:x,isNewickLoading:p,isNewickError:h}=z(t.data.uuid);if(a||l||p)return(0,i.jsx)(c.Z,{height:"920px"});if(s||u||h)return(0,i.jsx)(d.Z,{height:"920px"});let g="int"===t.data.value_type?2:0;return(0,i.jsx)(H.Z,{matrix:r,meta:o,newick:x,dataset:null,baselineCNA:g,reference:t.data.ref,vizRef:n})};var X=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["CN Stairstep(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(Q,{task:t,vizRef:n})})]})};let Y=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.oi)(e),s._);return{distributions:t,isDistributionsLoading:i,isDistributionsError:n,mutate:r}};var $=n(94665);let q=e=>{let{task:t,vizRef:n}=e,{distributions:r,isDistributionsLoading:a,isDistributionsError:s}=Y(t.data.uuid);return a?(0,i.jsx)(c.Z,{height:"920px"}):s?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)($.Z,{distributions:r,vizRef:n})};var J=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["CN Distribution(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(q,{task:t,vizRef:n})})]})},ee=e=>{let{task:t}=e;return(0,i.jsxs)(p.Z,{spacing:4,sx:{pt:"12px",px:"32px"},children:[(0,i.jsxs)(p.Z,{spacing:4,direction:"row",alignItem:"center",sx:{borderBottom:"2px solid #e0e0e0",mb:"36px",paddingBottom:"12px"},children:[(0,i.jsx)(h.Z,{component:"h6",sx:{fontSize:"36px",m:0},children:"Task Information"}),(0,i.jsx)(m.ZP,{type:"primary",icon:(0,i.jsx)(Z.Z,{}),onClick:()=>(0,N.ae)((0,o.$N)(t.data.uuid)),size:"large",children:"Download Result"})]}),(0,i.jsx)(g.InformationDescriptions,{taskInformation:t}),"gene"!==t.data.window_type?(0,i.jsx)(_,{task:t}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(B,{task:t}),(0,i.jsx)(A,{task:t}),(0,i.jsx)(U,{task:t}),(0,i.jsx)(W,{task:t}),"gene"!==t.data.window_type?(0,i.jsx)(X,{task:t}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(J,{task:t})]})};let et=e=>{let{data:t,error:n,isLoading:i,mutate:r}=(0,a.ZP)((0,o.BQ)(e),s._);return{focalInfo:t||[],isFocalInfoLoading:i,isFocalInfoError:n,mutate:r}};var en=n(33750),ei=n(2492),er=n(22904),ea=n(34953),es=n(93870),eo=n(26163),el=n(43594);n(96413);let ec=[{value:"all",label:"All"},{value:"chr1",label:"Chr1"},{value:"chr2",label:"Chr2"},{value:"chr3",label:"Chr3"},{value:"chr4",label:"Chr4"},{value:"chr5",label:"Chr5"},{value:"chr6",label:"Chr6"},{value:"chr7",label:"Chr7"},{value:"chr8",label:"Chr8"},{value:"chr9",label:"Chr9"},{value:"chr10",label:"Chr10"},{value:"chr11",label:"Chr11"},{value:"chr12",label:"Chr12"},{value:"chr13",label:"Chr13"},{value:"chr14",label:"Chr14"},{value:"chr15",label:"Chr15"},{value:"chr16",label:"Chr16"},{value:"chr17",label:"Chr17"},{value:"chr18",label:"Chr18"},{value:"chr19",label:"Chr19"},{value:"chr20",label:"Chr20"},{value:"chr21",label:"Chr21"},{value:"chr22",label:"Chr22"}],ed=e=>{let{chromosome:t,handleChromosomeChange:n}=e;return(0,i.jsxs)(p.Z,{spacing:1,children:[(0,i.jsx)(h.Z,{sx:{fontWeight:500},children:"Chromosome:"}),(0,i.jsx)(ei.default,{value:t,onChange:n,options:ec,style:{width:"240px"},size:"large"})]})},eu=e=>{let{config:t,configKey:n,handleConfigChange:r}=e;return(0,i.jsxs)(p.Z,{spacing:2,children:[(0,i.jsx)(el.e,{title:"Margin Horizontal:",config:t,configKey:n,configSubKey:"marginX",handleConfigChange:r}),(0,i.jsx)(el.e,{title:"Margin Vertical:",config:t,configKey:n,configSubKey:"marginY",handleConfigChange:r})]})},ex=(e,t,n,r)=>[{key:"data",label:"Data Setting",extra:(0,i.jsx)(es.Z,{}),children:(0,i.jsx)(ed,{chromosome:n,handleChromosomeChange:r})},{key:"chart",label:"Chart Setting",extra:(0,i.jsx)(eo.Z,{}),children:(0,i.jsx)(eu,{config:e,configKey:"chart",handleConfigChange:t})}];var ep=e=>{let{chromosome:t,handleChromosomeChange:n,config:r,handleConfigChange:a}=e,[s,o]=(0,j.useState)(["data","chart"]),l=(0,j.useMemo)(()=>ex(r,a,t,n),[t,r,n,a]);return(0,i.jsxs)(h.Z,{sx:{paddingLeft:"12px",paddingTop:"12px",height:"920px",maxHeight:"920px"},children:[(0,i.jsx)(er.ZP,{theme:{components:{Collapse:{headerBg:"#FFFFFF",fontSize:"16px",headerPadding:"16px 16px"}}},children:(0,i.jsx)(ea.Z,{items:l,activeKey:s,onChange:e=>{o(e)},size:"middle"})}),(0,i.jsx)(h.Z,{sx:{paddingTop:"12px"}})]})},eh=n(97356),eg=e=>{let{focalInfo:t,reference:n,vizRef:r}=e,[a,s]=(0,j.useState)("all"),[o,l]=(0,j.useState)(!0),[c,d]=(0,j.useState)({chart:{marginX:30,marginY:20},areaPlot:{width:500},title:{marginTop:5,marginBottom:5,fontSize:24},legend:{width:90,height:20,itemGap:5,marginTop:10,marginBottom:0,symbolWidth:30,fontSize:14},label:{fontSize:10,height:70},chromosomeAxis:{height:20}});return(0,i.jsx)(en.Z,{isShowLeft:o,leftPanelWidth:300,leftPanel:(0,i.jsx)(ep,{config:c,handleConfigChange:(e,t,n)=>{d(i=>({...i,[e]:{...i[e],[t]:n}}))},chromosome:a,handleChromosomeChange:e=>{s(e)}}),rightPanel:(0,i.jsx)(eh.Z,{chromosome:a,focalInfo:t,config:c,reference:n,isShowLeft:o,handleIsShowLeftChange:()=>{l(!o)},ref:r})})};let ej=e=>{let{task:t,vizRef:n}=e,{focalInfo:r,isFocalInfoLoading:a,isFocalInfoError:s}=et(t.data.uuid);return a?(0,i.jsx)(c.Z,{height:"920px"}):s?(0,i.jsx)(d.Z,{height:"920px"}):(0,i.jsx)(eg,{focalInfo:r,reference:t.data.ref,vizRef:n})};var em=e=>{let{task:t}=e,n=(0,j.useRef)(null),r=S(t);return(0,i.jsxs)(p.Z,{spacing:4,children:[(0,i.jsxs)(p.Z,{direction:"row",spacing:6,alignItems:"center",sx:{borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},children:[(0,i.jsxs)(h.Z,{component:"h6",sx:{fontSize:"36px"},children:["Focal CNA & Gene(",(0,i.jsx)(b.Z,{CNType:r,iconStyle:{fontSize:"24px"}}),")"]}),(0,i.jsx)(p.Z,{direction:"row",spacing:2,children:(0,i.jsx)(m.ZP,{type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.downloadSvg()},size:"large",icon:(0,i.jsx)(Z.Z,{}),children:"Download SVG Chart"})})]}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(ej,{task:t,vizRef:n})})]})},eZ=e=>{let{task:t}=e;return(0,i.jsxs)(p.Z,{spacing:4,sx:{pt:"12px",px:"32px"},children:[(0,i.jsxs)(p.Z,{spacing:4,direction:"row",alignItem:"center",sx:{borderBottom:"2px solid #e0e0e0",mb:"36px",paddingBottom:"12px"},children:[(0,i.jsx)(h.Z,{component:"h6",sx:{fontSize:"36px",m:0},children:"Task Information"}),(0,i.jsx)(m.ZP,{type:"primary",icon:(0,i.jsx)(Z.Z,{}),onClick:()=>(0,N.ae)((0,o.$N)(t.data.uuid)),size:"large",children:"Download Result"})]}),(0,i.jsx)(g.InformationDescriptions,{taskInformation:t}),(0,i.jsx)(em,{task:t})]})},ef=e=>{let{}=e,t=(0,r.useRouter)(),{taskId:n}=t.query,{task:a,isTaskLoading:s,isTaskError:o}=l(n);return!t.isReady||s?(0,i.jsx)(c.Z,{containerSx:{height:"80vh",marginTop:"40px"}}):o?(0,i.jsx)(d.Z,{containerSx:{height:"80vh",marginTop:"40px"}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x(),{children:(0,i.jsx)("title",{children:"Workflow Result | CNAScope"})}),"BasicAnnotationTask"===a.task_type?(0,i.jsx)(ee,{task:a}):(0,i.jsx)(eZ,{task:a})]})}},27423:function(e,t,n){"use strict";n.r(t),n.d(t,{InformationDescriptions:function(){return S}});var i=n(85893),r=n(67294),a=n(11163),s=n(38236),o=n(58514),l=n(8348),c=n(73484),d=n(22395),u=n(89073),x=n(13368),p=n(16793),h=n(91499),g=n(1226),j=n(69980);let m=e=>{let{taskInformation:t,handleSearch:n}=e;return(0,i.jsx)(x.Z,{sx:{border:"1px solid #1677FF",borderRadius:"10px",padding:"32px 32px"},children:null===t?(0,i.jsx)(Z,{}):(0,i.jsx)(f,{taskInformation:t,handleSearch:n})})},Z=()=>(0,i.jsx)(u.Z,{sx:{alignItems:"center",height:"450px",justifyContent:"center"},children:(0,i.jsx)(l.Z,{})}),f=e=>{let{taskInformation:t,handleSearch:n}=e,r=(0,a.useRouter)(),s=()=>{r.push("/workspace/detail?taskId=".concat(t.data.uuid))};return(0,i.jsxs)(u.Z,{spacing:2,children:[(0,i.jsx)(x.Z,{component:"h6",sx:{fontSize:"28px",fontWeight:"500",paddingBottom:"12px"},children:"Task Information:"}),(0,i.jsx)(x.Z,{sx:{padding:"0px 32px"},children:(0,i.jsx)(S,{taskInformation:t})}),(0,i.jsxs)(u.Z,{direction:"row",spacing:4,sx:{justifyContent:"space-around",paddingTop:"16px",paddingLeft:"32px",paddingRight:"32px"},children:[(0,i.jsx)(o.ZP,{size:"large",style:{width:"400px"},onClick:()=>n(t.uuid),children:"Refresh Task Status"}),(0,i.jsx)(o.ZP,{type:"primary",size:"large",style:{width:"400px"},disabled:"S"!==t.data.status,onClick:()=>s(),children:"View Task Detail"})]})]})},v={R:"Running",P:"Pending",S:"Success",F:"Failed"},C={Running:(0,i.jsx)(c.Z,{status:"processing",text:"Running"}),Success:(0,i.jsx)(c.Z,{status:"success",text:"Success"}),Pending:(0,i.jsx)(c.Z,{status:"default",text:"Pending"}),Failed:(0,i.jsx)(c.Z,{status:"error",text:"Failed"})},y={int:"Absolute",log:"Log"},k={bin:"Bin",gene:"Gene"},b=e=>{let t=[];return t.push({key:"TaskUUID",label:"Task UUID",children:e.data.uuid,span:2}),t.push({key:"Status",label:"Status",children:"P"===e.data.status?(0,i.jsxs)(u.Z,{direction:"row",spacing:3,sx:{alignItems:"center"},children:[C[v[e.data.status]],(0,i.jsxs)(o.ZP,{style:{backgroundColor:"#E47443",color:"rgb(255, 255, 255, 0.95)",border:"1px solid #E47443",borderRadius:"20px"},children:["Pending Queue Position: ",Number.parseInt(e.data.position)+1]})]}):C[v[e.data.status]],span:2}),t.push({key:"TaskType",label:"Task Type",children:e.task_type,span:2}),t.push({key:"CreateTime",label:"Create Time",children:e.data.create_time,span:1}),t.push({key:"FinishTime",label:"Finish Time",children:e.data.finish_time,span:1}),t.push({key:"obsType",label:"Observation Type",children:e.data.obs_type,span:1}),t.push({key:"reference",label:"Reference",children:e.data.ref,span:1}),"BasicAnnotationTask"===e.task_type&&(t.push({key:"k",label:"K",children:e.data.k,span:1}),t.push({key:"valueType",label:"CNA Value Type",children:y[e.data.value_type]||"--",span:1}),t.push({key:"windowType",label:"Window Type",children:k[e.data.window_type]||"--",span:1})),t},S=e=>{let{taskInformation:t}=e,n=b(t);return(0,i.jsx)(d.Z,{bordered:!0,items:n,column:2})};t.default=e=>{let{tasks:t,userId:n}=e,a=(0,j.z)(),[l,c]=(0,r.useState)(""),[d,Z]=(0,r.useState)(null),f=async()=>{try{let e=await h.Z.get((0,g.US)(),{params:{taskUUID:l}});Z(e.data)}catch(e){Z(null),e?"ERR_BAD_REQUEST"===e.code?a.error("Please Enter a Correct UUID!"):a.error(e.message):a.error("Please check the UUID you submit.")}};return(0,i.jsxs)(u.Z,{spacing:1,sx:{alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"h6",sx:{fontSize:"40px",paddingBottom:"48px",paddingTop:"32px"},children:"Task Query"}),(0,i.jsxs)(u.Z,{direction:"row",spacing:3,sx:{alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{fontSize:"24px",fontWeight:"500"},children:"UUID:"}),(0,i.jsx)(s.Z,{placeholder:"Please Enter Task UUID...",allowClear:!0,size:"large",style:{width:"700px",borderRadius:"18px"},value:l,onChange:e=>{c(e.target.value)}}),(0,i.jsx)(o.ZP,{type:"primary",size:"large",icon:(0,i.jsx)(p.Z,{}),style:{borderRadius:"18px"},onClick:f,children:"Search"})]}),(0,i.jsx)(x.Z,{sx:{paddingTop:"60px",width:"90%"},children:(0,i.jsx)(m,{taskInformation:d,handleSearch:f})})]})}}},function(e){e.O(0,[662,920,944,943,816,441,927,41,141,4,61,894,888,774,179],function(){return e(e.s=17149)}),_N_E=e.O()}]);