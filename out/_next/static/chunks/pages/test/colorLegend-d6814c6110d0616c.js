(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{7831:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test/colorLegend",function(){return r(9593)}])},7028:function(t,e,r){"use strict";r.d(e,{n:function(){return l},r:function(){return o}});var a=r(5893),n=r(1927),i=r(7294);let l=t=>{let{color:e,title:r,tickSize:l=6,width:o=320,height:c=44+l,marginTop:d=18,marginRight:s=0,marginBottom:f=16+l,marginLeft:u=0,ticks:h=o/64,legendMarginTop:g,tickFormat:m,tickValues:p}=t,x=(0,i.useRef)(null),y=(0,i.useRef)(m),v=(0,i.useRef)(p);function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=document.createElement("canvas");r.width=e,r.height=1;let a=r.getContext("2d");for(let r=0;r<e;++r)a.fillStyle=t(r/(e-1)),a.fillRect(r,0,1,1);return r}return(0,i.useEffect)(()=>{let t;let a=n.Ys(x.current);a.selectAll("*").remove(),a.attr("width",o).attr("height",c).style("overflow","visible").style("display","block");let i=t=>t.selectAll(".tick line").attr("y1",d+f-c);if(e.interpolate){let r=Math.min(e.domain().length,e.range().length);t=e.copy().rangeRound(n.q$2(n.sXR(u,o-s),r)),a.append("image").attr("x",u).attr("y",d).attr("width",o-u-s).attr("height",c-d-f).attr("preserveAspectRatio","none").attr("xlink:href",A(e.copy().domain(n.q$2(n.sXR(0,1),r))).toDataURL())}else if(e.interpolator){if(t=Object.assign(e.copy().interpolator(n.uLU(u,o-s)),{range:()=>[u,o-s]}),a.append("image").attr("x",u).attr("y",d).attr("width",o-u-s).attr("height",c-d-f).attr("preserveAspectRatio","none").attr("xlink:href",A(e.interpolator()).toDataURL()),!t.ticks){if(void 0===v.current){let t=Math.round(h+1);v.current=n.w6H(t).map(r=>n.VRg(e.domain(),r/(t-1)))}"function"!=typeof y.current&&(y.current=n.WUZ(void 0===y.current?",f":y.current))}}else if(e.invertExtent){let r=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),i=void 0===m?t=>t:"string"==typeof m?n.WUZ(m):m;t=n.BYU().domain([-1,e.range().length-1]).rangeRound([u,o-s]),a.append("g").selectAll("rect").data(e.range()).join("rect").attr("x",(e,r)=>t(r-1)).attr("y",d).attr("width",(e,r)=>t(r)-t(r-1)).attr("height",c-d-f).attr("fill",t=>t),v.current=n.w6H(r.length),y.current=t=>i(r[t],t)}else t=n.tiA().domain(e.domain()).rangeRound([u,o-s]),a.append("g").selectAll("rect").data(e.domain()).join("rect").attr("x",t).attr("y",d).attr("width",Math.max(0,t.bandwidth()-1)).attr("height",c-d-f).attr("fill",e),i=()=>{};a.append("g").attr("transform","translate(0,".concat(c-f,")")).call(n.LLu(t).ticks(h,"string"==typeof m?m:void 0).tickFormat("function"==typeof m?m:void 0).tickSize(l).tickValues(p)).call(i).call(t=>t.select(".domain").remove()).call(t=>t.append("text").attr("x",u).attr("y",d+f-c-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(r))},[e,c,f,u,s,d,m,l,p,h,r,o]),(0,a.jsx)("g",{ref:x,transform:"translate(0, ".concat(g,")")})},o=t=>{let{color:e,title:r,tickSize:l=6,width:o=44+l,height:c=320,marginTop:d=30,marginRight:s=4,marginBottom:f=0,marginLeft:u=18+l,ticks:h=c/64,legendMarginTop:g,tickFormat:m,tickValues:p}=t,x=(0,i.useRef)(null),y=(0,i.useRef)(m),v=(0,i.useRef)(p);function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=document.createElement("canvas");r.width=1,r.height=e;let a=r.getContext("2d");for(let r=0;r<e;++r)a.fillStyle=t(r/(e-1)),a.fillRect(0,r,1,1);return r}return(0,i.useEffect)(()=>{let t;let a=n.Ys(x.current);a.selectAll("*").remove(),a.attr("width",o).attr("height",c).style("overflow","visible").style("display","block");let i=t=>t.selectAll(".tick line").attr("x1",o-s-u);if(e.interpolate){let r=Math.min(e.domain().length,e.range().length);t=e.copy().rangeRound(n.q$2(n.sXR(d,c-f),r)),a.append("image").attr("x",u).attr("y",d).attr("width",o-u-s).attr("height",c-d-f).attr("preserveAspectRatio","none").attr("xlink:href",A(e.copy().domain(n.q$2(n.sXR(0,1),r))).toDataURL())}else if(e.interpolator){if(t=Object.assign(e.copy().interpolator(n.uLU(d,c-f)),{range:()=>[d,c-f]}),a.append("image").attr("x",u).attr("y",d).attr("width",o-u-s).attr("height",c-d-f).attr("preserveAspectRatio","none").attr("xlink:href",A(e.interpolator()).toDataURL()),!t.ticks){if(void 0===v.current){let t=Math.round(h+1);v.current=n.w6H(t).map(r=>n.VRg(e.domain(),r/(t-1)))}"function"!=typeof y.current&&(y.current=n.WUZ(void 0===y.current?",f":y.current))}}else if(e.invertExtent){let r=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),i=void 0===m?t=>t:"string"==typeof m?n.WUZ(m):m;t=n.BYU().domain([-1,e.range().length-1]).rangeRound([d,c-f]),a.append("g").selectAll("rect").data(e.range()).join("rect").attr("x",(e,r)=>t(r-1)).attr("y",d).attr("height",(e,r)=>t(r)-t(r-1)).attr("width",o-u-s).attr("fill",t=>t),v.current=n.w6H(r.length),y.current=t=>i(r[t],t)}else t=n.tiA().domain(e.domain()).rangeRound([d,c-d]),a.append("g").selectAll("rect").data(e.domain()).join("rect").attr("x",u).attr("y",t).attr("width",o-u-s).attr("height",Math.max(0,t.bandwidth()-1)).attr("fill",e),i=()=>{};a.append("g").attr("transform","translate(".concat(u,", 0)")).call(n.y4O(t).ticks(h,"string"==typeof m?m:void 0).tickFormat("function"==typeof m?m:void 0).tickSize(l).tickValues(p)).call(i).call(t=>t.select(".domain").remove()).call(t=>t.append("text").attr("x",-(o-u-s)/2).attr("y",d-10).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(r))},[e,c,f,u,s,d,m,l,p,h,r,o]),(0,a.jsx)("g",{ref:x,transform:"translate(0, ".concat(g,")")})}},6710:function(t,e,r){"use strict";r.d(e,{Z:function(){return n},y:function(){return o}});var a=r(1927);let n=(t,e,r)=>{let n=a.ueB(t,a.rA8),o={...l(i(e,n))};return{processedMeta:d(n,r),colorScales:o}},i=(t,e)=>{let r={};return t.forEach(t=>{let a=e.map(e=>e[t]);r[t]={min:Math.min(...a),max:Math.max(...a)}}),r},l=t=>{let e=a.BYU().domain([t.e_PCA1.min,t.e_PCA1.max]).range(["#c4a1d3","#ad49e1"]),r=a.BYU().domain([t.e_PCA2.min,t.e_PCA2.max]).range(["#52b199","#0d7c66"]),n=a.BYU().domain([t.e_TSNE1.min,t.e_TSNE2.max]).range(["#d88f92","#c63c51"]);return{e_PCA1:e,e_PCA2:r,e_TSNE1:n,e_TSNE2:a.BYU().domain([t.e_TSNE2.min,t.e_TSNE2.max]).range(["#bad9ff","#3572ef"]),e_UMAP1:a.BYU().domain([t.e_UMAP1.min,t.e_UMAP1.max]).range(["#ffa699","#ff7f3e"]),e_UMAP2:a.BYU().domain([t.e_UMAP2.min,t.e_UMAP2.max]).range(["#f0e8fa","#FF76CE"])}},o=(t,e,r)=>{let n=a.ueB(t,a.rA8),i=c(r);return{processedMatrix:d(n,e.map(t=>t.gene)),CNVColorScale:i}},c=t=>{let e=a.BYU().domain(2===t?[0,2]:[-1,0]).range(["#add8e6","#ffffff"]).clamp(!0),r=a.BYU().domain(2===t?[2,10]:[0,1]).range(["#ffffff","#6A0220"]).clamp(!0);return t=>t<2?e(t):r(t)},d=(t,e)=>t.reduce((t,r)=>(t[r.id]=e.map(t=>r[t]),t),{})},9593:function(t,e,r){"use strict";r.r(e);var a=r(5893);r(6710);var n=r(1927),i=r(7028);e.default=t=>{let{}=t,e=[0,2,10],r=n.PUr(e,["#add8e6","#ffffff","#6A0220"]);return(0,a.jsx)("svg",{width:500,height:500,children:(0,a.jsx)(i.r,{color:r,title:"CNV Value",height:320,legendMarginTop:0,ticks:e[2]-e[0]+1})})}}},function(t){t.O(0,[927,888,774,179],function(){return t(t.s=7831)}),_N_E=t.O()}]);